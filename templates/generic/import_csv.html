
{% extends 'base.html' %}

{% block title %} Upload {{ model_name|capfirst }} {% endblock %}

{% block content %}

{% load static %}
   
  <div class="page">
    
    {% include 'include/layout.html' %}

    <div class="page-wrapper">
      <!-- Page body -->
      <div class="page-body">
        <div class="container-xl">
          <div class="card">
            {% include 'include/flash_message.html' %} <!--  flash message -->
            <div class="row g-0">
              <div class="col d-flex flex-column">
                <form method="post"  enctype="multipart/form-data">
                  {% csrf_token %}
                  <div class="card-body">

                    <nav aria-label="breadcrumb" class="breadcrumb d-flex justify-content-end">
                      <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/">Home</a></li>
                        <li class="breadcrumb-item" aria-current="page"><a href="{% url 'list_'|add:model_name %}">{{ model_name|capfirst }}</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Upload</li>
                      </ol>
                    </nav>
      
                    <h2 class="mb-4">{{ model_name|capfirst }}</h2>
                    <h3 class="card-title mt-4">Upload {{ model_name|capfirst }}</h3>
                    {% if file_exists %}
                      <p>To download the Sample CSV file<a href="{{ file_url }}" download> Click here </a></p>
                    {% else %}
                        <p>The CSV file does not exist. <a href="{% url 'create_csv' app_name model_name %}">Create here</a></p>
                    {% endif %}
                    <div class="row g-3">
                      {{ form.as_p }}
                    </div>
                  </div>
                  <div class="card-footer bg-transparent mt-auto">
                    <div class="btn-list justify-content-end">
                      <a href="{% url 'list_'|add:model_name %}" class="btn">
                        Back
                      </a>
                      <button type="submit" class="btn btn-primary">Upload</button>
                    </div>
                  </div>

                </form>
              </div>
            </div>

          </div>
        </div>
      </div>
      <!--  footer start  -->
      {% include 'include/footer.html' %}
      <!--  footer end -->
    </div>
  </div>
  
{% endblock %}
